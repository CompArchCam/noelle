Simplifcations:
- there is only one function in the whole program
  TODO: do not change what you are iterating over (i.e., cache the list of functions before modifying them)

- there is no memory data dependences (pop for synchronization is missing)
